<!-- Left panel -->
<div class="col-md-9" id="municipal_charts">

  <select id="municipal_select">
    <option value="choropleth_map">Choropleth Map for Housing Market</option>
    <option value="overview_housing_market">Overview of Housing Market</option>
    <option value="overview_foreign_involvement">Overview of Foreign Involvement</option>
  </select>

  <select class="sub-select" id="overview_housing_market_select" style="display:none">
    <option value="">Select</option>
    <option value="total_market_trans">Total Market Transactions</option>
    <option value="sum_fmv">Sum of Fair Market Value</option>
    <option value="sum_ptt">Sum of Property Transfer Tax</option>
    <option value="housing_types">Housing Types</option>
    <option value="fmv_ptt_population">Sum of Fair Market Value VS. Population with Sum of Property Transfer Tax</option>
  </select>

  <select class="sub-select" id="overview_foreign_involvement_select" style="display:none">
    <option value="">Select</option>
    <option value="metro_vancouver">Metro Vancouver</option>
  </select>


  <div class="article" id="municipal_choropleth_map">
    <div class="article-header">
      <h3 class="color-darkblue">Choropleth Map for Housing Market</h3>
      <p class="color-grey">Source: BC Data Catalogue</p>
    </div>

    <div class="article-body">
      <%= render "articles/municipal/region_district_map" %>
    </div>
  </div>  

  <div class="article" id="overview_housing_market" style="display:none">
    <div class="article-header">
      <h3 class="color-darkblue">Overivew of Municipal Housing Market</h3>
      <p class="color-grey">Source: BC Data Catalogue</p>
    </div>

    <div class="article-body">
      <%= render "articles/municipal/market_transaction" %>
    </div>
  </div>

  <div class="article" id="overview_foreign_involvement" style="display:none">
    <div class="article-header">
      <h3 class="color-darkblue">Overview of Foreign Involvement</h3>
      <p class="color-grey">Source: BC Data Catalogue</p>
    </div>

    <div class="article-body">
      <%= render "articles/municipal/foreign_involvement" %>
    </div>
  </div>

</div>

<!-- Right panel -->
<div class="col-md-3">
  <%= render "articles/util/right_panel_detail" %>
</div>


<script>
$(document).ready(function() {
  var start = "#municipal_charts ";


  $(start + "#municipal_select").on("change", function() {
    var municipal_select = $(this).val();

    if (municipal_select == "choropleth_map") {
      $(start + ".article").hide();
      $(start + "#municipal_choropleth_map").show();

      $(start + ".sub-select").hide();

    } else if (municipal_select == "overview_housing_market") {
      $(start + ".article").hide();
      $(start + "#overview_housing_market").show();

      $(start + ".sub-select").hide();
      $(start + "#overview_housing_market_select").show();

    } else if (municipal_select == "overview_foreign_involvement") {
      $(start + ".article").hide();
      $(start + "#overview_foreign_involvement").show();

      $(start + ".sub-select").hide();
      $(start + "#overview_foreign_involvement_select").show();
    } else {
      $(start + ".article").hide();
      $(start + ".sub-select").hide();
    }

  });


  $(start + "#overview_housing_market_select").on("change", function() {
    var overview_housing_market_select = $(this).val();

    if (overview_housing_market_select == "total_market_trans") {
      $(start + ".canvases").hide();
      $(start + "#total_market_trans").show();
    
    } else if (overview_housing_market_select == "sum_fmv") {
      $(start + ".canvases").hide();
      $(start + "#sum_fmv").show();

    } else if (overview_housing_market_select == "sum_ptt") {
      $(start + ".canvases").hide();
      $(start + "#sum_ptt").show();

    } else if (overview_housing_market_select == "housing_types") {
      $(start + ".canvases").hide();
      $(start + "#housing_types").show();

    } else if (overview_housing_market_select == "fmv_ptt_population") {
      $(start + ".canvases").hide();
      $(start + "#fmv_ptt_population").show();

    } else {
      $(start + ".canvases").hide();
    }


  });

  $(start + "#overview_foreign_involvement_select").on("change", function() {
    var overview_foreign_involvement_select = $(this).val();

    if (overview_foreign_involvement_select == "metro_vancouver") {
      $(start + ".canvases").hide();
      $(start + "#metro_vancouver").show();
    
    } else {
      $(start + ".canvases").hide();
    }

  });

});
</script>